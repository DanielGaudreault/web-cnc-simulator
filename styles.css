/* Add these new styles to the existing CSS */

/* Template Selector */
#templateSelector {
    width: 180px;
    background: #3c3c3c;
    border: 1px solid #555;
    color: #fff;
    padding: 8px;
    border-radius: 3px;
    margin-right: 10px;
}

/* View Presets */
.view-presets {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 5px;
    margin-top: 10px;
}

.view-presets button {
    font-size: 0.8em;
    padding: 6px;
    background: #666;
}

.view-presets button:hover {
    background: #888;
}

/* Template Buttons */
.template-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 5px;
}

.template-buttons button {
    font-size: 0.8em;
    padding: 6px;
    background: #2196F3;
}

.template-buttons button:hover {
    background: #1976D2;
}

/* Grid Controls */
.grid-controls {
    position: absolute;
    bottom: 60px;
    left: 10px;
    background: rgba(0,0,0,0.8);
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #444;
    width: 150px;
    backdrop-filter: blur(5px);
}

.grid-controls .control-label {
    margin-bottom: 8px;
    font-size: 0.9em;
}

.grid-controls input {
    margin-bottom: 5px;
    font-size: 0.8em;
    padding: 4px;
}

.grid-controls button {
    font-size: 0.8em;
    padding: 6px;
    margin-bottom: 0;
}

/* Enhanced Header Controls */
.header-controls {
    display: flex;
    gap: 10px;
    align-items: center;
}

.header-controls button {
    background: #2196F3;
    border: none;
    color: white;
    padding: 8px 12px;
    border-radius: 3px;
    cursor: pointer;
    font-size: 0.9em;
    white-space: nowrap;
}

.header-controls button:hover {
    background: #1976D2;
}

/* Status Indicators */
.status-indicator {
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    margin-right: 5px;
}

.status-ready { background: #4CAF50; }
.status-running { background: #ff9800; animation: pulse 1s infinite; }
.status-paused { background: #ff9800; }
.status-error { background: #f44336; }
.status-complete { background: #4CAF50; }

/* Template Preview */
.template-preview {
    display: none;
    position: absolute;
    background: rgba(0,0,0,0.9);
    border: 1px solid #444;
    border-radius: 5px;
    padding: 10px;
    z-index: 1000;
    max-width: 300px;
}

.template-item:hover .template-preview {
    display: block;
}

/* Enhanced Grid Visualization */
.grid-enhanced {
    border: 1px solid #444;
}

.grid-enhanced .grid-line-major {
    stroke: #666;
    stroke-width: 1;
}

.grid-enhanced .grid-line-minor {
    stroke: #444;
    stroke-width: 0.5;
    stroke-dasharray: 2,2;
}

/* Coordinate System Enhancement */
.axes-labels {
    font-family: monospace;
    font-size: 0.8em;
    pointer-events: none;
}

.axis-x { color: #ff4444; }
.axis-y { color: #44ff44; }
.axis-z { color: #4444ff; }

/* Toolpath Styles */
.toolpath-rapid {
    stroke: #ff4444;
    stroke-dasharray: 5,5;
}

.toolpath-cut {
    stroke: #44ff44;
}

.toolpath-arc {
    stroke: #4444ff;
}

/* Responsive Improvements */
@media (max-width: 1400px) {
    .container {
        grid-template-columns: 280px 1fr 280px;
    }
    
    .header-controls {
        flex-wrap: wrap;
    }
    
    #templateSelector {
        width: 150px;
    }
}

@media (max-width: 1200px) {
    .container {
        grid-template-columns: 250px 1fr 250px;
    }
    
    .axes-controller {
        width: 130px;
        height: 160px;
    }
    
    #axesViewport {
        width: 110px;
        height: 110px;
    }
    
    .grid-controls {
        width: 130px;
    }
}

/* Animation Enhancements */
@keyframes tool-move {
    0% { transform: translateY(0); }
    50% { transform: translateY(-2px); }
    100% { transform: translateY(0); }
}

.tool-moving {
    animation: tool-move 0.5s ease-in-out infinite;
}

@keyframes material-remove {
    0% { opacity: 0.8; }
    50% { opacity: 0.6; }
    100% { opacity: 0.8; }
}

.material-removing {
    animation: material-remove 0.3s ease-in-out;
}

/* Selection Styles */
.gcode-line-highlight {
    background: #264f78;
}

.gcode-line-current {
    background: #2d5a2d;
    border-left: 3px solid #4CAF50;
}

/* Scrollbar Enhancements */
.gcode-editor::-webkit-scrollbar {
    width: 12px;
}

.gcode-editor::-webkit-scrollbar-track {
    background: #2d2d2d;
}

.gcode-editor::-webkit-scrollbar-thumb {
    background: #555;
    border-radius: 6px;
    border: 2px solid #2d2d2d;
}

.gcode-editor::-webkit-scrollbar-thumb:hover {
    background: #777;
}

/* Loading States */
.loading {
    opacity: 0.7;
    pointer-events: none;
}

.loading::after {
    content: 'Loading...';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0,0,0,0.8);
    padding: 10px 20px;
    border-radius: 5px;
    color: white;
}

/* Notification Styles */
.notification {
    position: fixed;
    top: 20px;
    right: 20px;
    background: #333;
    color: white;
    padding: 15px;
    border-radius: 5px;
    border-left: 4px solid #4CAF50;
    z-index: 1000;
    max-width: 300px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.notification.error {
    border-left-color: #f44336;
}

.notification.warning {
    border-left-color: #ff9800;
}

/* Template Category Styles */
.template-category {
    margin-bottom: 15px;
}

.template-category h4 {
    color: #ccc;
    margin-bottom: 8px;
    font-size: 0.9em;
    border-bottom: 1px solid #444;
    padding-bottom: 5px;
}

/* Enhanced Button Groups */
.button-group {
    display: flex;
    gap: 1px;
    background: #444;
    border-radius: 3px;
    overflow: hidden;
}

.button-group button {
    flex: 1;
    margin: 0;
    border-radius: 0;
    border: none;
}

.button-group button:first-child {
    border-radius: 3px 0 0 3px;
}

.button-group button:last-child {
    border-radius: 0 3px 3px 0;
}

/* Code Syntax Highlighting Preview */
.gcode-preview {
    font-family: 'Courier New', monospace;
    font-size: 0.8em;
    background: #1e1e1e;
    padding: 10px;
    border-radius: 3px;
    border: 1px solid #444;
    max-height: 100px;
    overflow-y: auto;
    margin-top: 5px;
}
